(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(5543)}])},5543:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(5893),a=r(7294),o=r(990),s=r(1664),i=r.n(s),c=r(3776),l=()=>{let[e,t]=(0,a.useState)(0),[r,s]=(0,a.useState)(0),[l,d]=(0,a.useState)(!1),[u,v]=(0,a.useState)(0),[p,m]=(0,a.useState)(!1),[f,y]=(0,a.useState)(!1),[h,E]=(0,a.useState)(0),[g,N]=(0,a.useState)(0),[w,x]=(0,a.useState)(!1),[L,S]=(0,a.useState)(!1),I=(0,a.useRef)(null),O=(0,a.useRef)(null),C=(0,a.useRef)([]),j=(0,a.useRef)([]),A=(0,a.useRef)([null,null]),M=(0,a.useRef)(null),U=(0,a.useRef)(!1),R=(0,a.useRef)(null);C.current=[],j.current=[];let k=e=>{e&&!C.current.includes(e)&&C.current.push(e)},b=e=>{e&&!j.current.includes(e)&&j.current.push(e)},_=[{title:"THE WILD - BUCK MASON",category:"COMMERCIAL",videoUrl:"/videos/featured-cuts/the-wild.mp4"},{title:"RUSSIAN MARTIAN - LOOSING MY MIND",category:"MUSIC VIDEO",videoUrl:"/videos/featured-cuts/russian-martian-loosing-mind.mp4"},{title:"TOMA ALTY x MONOS",category:"COMMERCIAL",videoUrl:"/videos/featured-cuts/monos.mp4"},{title:"NANAM\xc9 - TOO COLD",category:"MUSIC VIDEO",videoUrl:"/videos/featured-cuts/naname-too-cold.mp4"},{title:"HEY BIKE HAULER",category:"COMMERCIAL",videoUrl:"/videos/featured-cuts/hey-bike-haul.mp4"},{title:"ANNICK NICOLI - CHEIA DE GRA\xc7A",category:"MUSIC VIDEO",videoUrl:"/videos/featured-cuts/annick-nicoli-raca.mp4"}];(0,a.useEffect)(()=>{o.p8.set(C.current,{x:0,y:0,opacity:0}),o.p8.set(j.current,{x:0,y:0,opacity:0})},[]);let T=()=>{if(l)return;let e=document.querySelectorAll(".title-section .word"),t=document.querySelectorAll(".category .word"),r=o.p8.timeline();return o.p8.set([e,t],{x:150,opacity:0,y:0}),r.to([e,t],{x:0,opacity:1,duration:2,stagger:{each:.02,from:"start"},ease:"power2.out"}),r},D=()=>{let e=document.querySelectorAll(".title-section .word"),t=document.querySelectorAll(".category .word"),r=o.p8.timeline();return r.to([e,t],{x:-150,opacity:0,y:0,duration:2,stagger:{each:.02,from:"end"},ease:"power2.inOut"}),r},q=(e,r,n)=>new Promise(a=>{o.p8.timeline({onComplete:()=>{E(0===h?1:0),v(n),t(n),U.current=!1,a()}}).to(e,{opacity:0,duration:2,ease:"power1.inOut"}).to(r,{opacity:1,duration:2,ease:"power1.inOut"},"<").to(".overlay",{backgroundColor:"rgba(0, 0, 0, 0.6)",duration:2,ease:"power1.inOut",onComplete:()=>{o.p8.to(".overlay",{backgroundColor:"rgba(0, 0, 0, 0.5)",duration:1,ease:"power1.out"})}},"<")}),H=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],l||e===u)return;d(!0),U.current=!0;let r=A.current[h],n=0===h?1:0,a=A.current[n];a.src=_[e].videoUrl,a.load();let s=(e+1)%_.length;new Image().src=_[s].videoUrl,o.p8.timeline().add(D()),a.onloadeddata=()=>{q(r,a,s).then(()=>{E(n),v(e),t(e),r.currentTime=0,r.pause(),T(),d(!1),U.current=!1})},a.onerror=()=>{d(!1),U.current=!1}},K=e=>{H(e,!0)};return(0,a.useEffect)(()=>{if(!w)return;let t=A.current[h],r=A.current[0===h?1:0],n=()=>{if(!t)return;let n=t.currentTime;if(s(Math.min(n/10*100,100)),n>=10&&!U.current){U.current=!0;let n=(e+1)%_.length;r.src!==_[n].videoUrl&&(r.src=_[n].videoUrl,r.load());let a=()=>{r.play().then(()=>{q(t,r,n)}).catch(e=>{U.current=!1})};r.readyState>=3?a():r.addEventListener("canplay",()=>{a()},{once:!0})}},a=()=>{U.current||H((e+1)%_.length)},o=()=>{t&&(t.duration&&isNaN(t.duration),t.play().catch(e=>console.error("Error playing video:",e)))},i=()=>{t&&!U.current&&t.play().catch(e=>console.error("Error resuming stalled video:",e))},c=()=>{U.current||H((e+1)%_.length)};return t&&(t.addEventListener("timeupdate",n),t.addEventListener("ended",a),t.addEventListener("loadedmetadata",o),t.addEventListener("stalled",i),t.addEventListener("waiting",i),t.addEventListener("error",c),t.readyState>=1&&o(),t.paused&&t.play().catch(e=>console.error("Error playing video in effect:",e))),()=>{t&&(t.removeEventListener("timeupdate",n),t.removeEventListener("ended",a),t.removeEventListener("loadedmetadata",o),t.removeEventListener("stalled",i),t.removeEventListener("waiting",i),t.removeEventListener("error",c))}},[e,_.length,l,h,w]),(0,a.useEffect)(()=>{let e=A.current[0],t=A.current[1];if(e){e.src=_[0].videoUrl,e.load(),t&&_.length>1&&(t.src=_[1].videoUrl,t.load());let r=()=>{e.play().then(()=>{x(!0),setTimeout(()=>{T()},100)}).catch(e=>console.error("Error playing initial video:",e)),e.removeEventListener("canplay",r)};e.addEventListener("canplay",r)}return N(Date.now()),U.current=!1,()=>{let e=A.current[0];e&&e.removeEventListener("canplay",()=>{}),R.current&&R.current.kill()}},[]),(0,a.useEffect)(()=>{w&&(o.p8.set(".word",{opacity:0,x:150,y:0}),setTimeout(()=>{T()},500))},[w]),(0,a.useEffect)(()=>{w&&!l&&T()},[u,w]),(0,n.jsxs)("div",{className:"home",children:[(0,n.jsxs)("div",{className:"video-background",ref:O,children:[(0,n.jsx)("video",{muted:!0,playsInline:!0,loop:!1,preload:"auto",className:"background-video ".concat(0===h?"active":"inactive"),ref:e=>A.current[0]=e}),(0,n.jsx)("video",{muted:!0,playsInline:!0,loop:!1,preload:"auto",className:"background-video ".concat(1===h?"active":"inactive"),ref:e=>A.current[1]=e,style:{opacity:0}}),(0,n.jsx)("div",{className:"overlay",ref:M}),(0,n.jsx)("div",{className:"content",children:(0,n.jsxs)("div",{className:"content-container",children:[(0,n.jsx)("div",{className:"title-section",children:(0,n.jsx)("h1",{children:_[u].title.split(" ").map((e,t)=>(0,n.jsxs)("span",{className:"word",ref:k,children:[e," "]},t))})}),(0,n.jsxs)("div",{className:"bottom-section",children:[(0,n.jsx)("div",{className:"category",children:_[u].category.split(" ").map((e,t)=>(0,n.jsxs)("span",{className:"word",ref:b,children:[e," "]},t))}),(0,n.jsx)(c.Z,{scale:.7,children:(0,n.jsx)(i(),{href:"/works",className:"see-more",children:"See More"})})]})]})})]}),(0,n.jsx)("div",{className:"counter",children:"0".concat(e+1)}),(0,n.jsx)("div",{className:"progress-indicators",ref:I,children:_.map((t,a)=>(0,n.jsx)("div",{className:"progress-dot ".concat(a===e?"active":""),onClick:()=>K(a),children:a===e&&(0,n.jsx)("div",{className:"progress-bar",style:{width:"".concat(r,"%")}})},a))})]})};function d(){return(0,n.jsx)(l,{})}}},function(e){e.O(0,[802,990,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);